- args:
    tables:
    - object_relationships:
      - name: listing
        using:
          foreign_key_constraint_on: listing_id
      - name: tag
        using:
          foreign_key_constraint_on: tag_id
      table:
        name: label
        schema: public
    - array_relationships:
      - name: labels
        using:
          foreign_key_constraint_on:
            column: listing_id
            table:
              name: label
              schema: public
      delete_permissions:
      - permission:
          filter:
            store:
              vendor_current:
                user_id:
                  _eq: X-Hasura-User-Id-Internal
        role: user
      insert_permissions:
      - permission:
          backend_only: false
          check:
            store:
              vendor_current:
                user_id:
                  _eq: X-Hasura-User-Id-Internal
          columns:
          - name
          - price
          - sold
          - sold_at
          - store_id
        role: user
      object_relationships:
      - name: store
        using:
          foreign_key_constraint_on: store_id
      select_permissions:
      - permission:
          allow_aggregations: true
          columns:
          - created_at
          - id
          - name
          - price
          - sold
          - sold_at
          - store_id
          filter: {}
        role: user
      table:
        name: listing
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - name
          - price
          - sold
          - sold_at
          - store_id
          filter:
            store:
              vendor_current:
                user_id:
                  _eq: X-Hasura-User-Id-Internal
        role: user
    - array_relationships:
      - name: listings
        using:
          foreign_key_constraint_on:
            column: store_id
            table:
              name: listing
              schema: public
      - name: tags
        using:
          foreign_key_constraint_on:
            column: store_id
            table:
              name: tag
              schema: public
      - name: vendors
        using:
          foreign_key_constraint_on:
            column: store_id
            table:
              name: vendor
              schema: public
      delete_permissions:
      - permission:
          filter:
            vendor_current:
              user_id:
                _eq: X-Hasura-User-Id-Internal
        role: user
      insert_permissions:
      - permission:
          backend_only: false
          check: {}
          columns:
          - id
          - name
          set:
            admin: x-hasura-User-Id-Internal
        role: user
      object_relationships:
      - name: user
        using:
          foreign_key_constraint_on: admin
      - name: vendor_current
        using:
          manual_configuration:
            column_mapping:
              id: store_id
            remote_table:
              name: vendor_current
              schema: public
      select_permissions:
      - permission:
          allow_aggregations: true
          columns:
          - created_at
          - id
          - name
          filter: {}
        role: user
      table:
        name: store
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - name
          filter:
            vendor_current:
              user_id:
                _eq: X-Hasura-User-Id-Internal
        role: user
    - array_relationships:
      - name: labels
        using:
          foreign_key_constraint_on:
            column: tag_id
            table:
              name: label
              schema: public
      object_relationships:
      - name: store
        using:
          foreign_key_constraint_on: store_id
      table:
        name: tag
        schema: public
    - array_relationships:
      - name: stores
        using:
          foreign_key_constraint_on:
            column: admin
            table:
              name: store
              schema: public
      - name: vendors
        using:
          foreign_key_constraint_on:
            column: user_id
            table:
              name: vendor
              schema: public
      delete_permissions:
      - permission:
          filter:
            id:
              _eq: X-Hasura-User-Id-Internal
        role: user
      select_permissions:
      - permission:
          columns:
          - avatar
          - created_at
          - email
          - full_name
          - id
          filter: {}
        role: user
      table:
        name: user
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - avatar
          - email
          - full_name
          filter:
            id:
              _eq: X-Hasura-User-Id-Internal
        role: user
    - select_permissions:
      - permission:
          columns: []
          filter:
            id:
              _eq: X-Hasura-User-Id-Internal
        role: user
      table:
        name: user_current
        schema: public
    - array_relationships:
      - name: vendor_current
        using:
          manual_configuration:
            column_mapping:
              user_id: user_id
            remote_table:
              name: vendor_current
              schema: public
      delete_permissions:
      - permission:
          filter:
            user_id:
              _eq: X-Hasura-User-Id-Internal
        role: user
      insert_permissions:
      - permission:
          backend_only: false
          check:
            store:
              admin:
                _eq: X-Hasura-User-Id-Internal
          columns:
          - store_id
          - user_id
          set:
            user_id: x-hasura-Internal-Id
        role: user
      object_relationships:
      - name: store
        using:
          foreign_key_constraint_on: store_id
      - name: user
        using:
          foreign_key_constraint_on: user_id
      select_permissions:
      - permission:
          columns:
          - id
          - user_id
          - store_id
          - created_at
          filter: {}
        role: user
      table:
        name: vendor
        schema: public
    - object_relationships:
      - name: store
        using:
          manual_configuration:
            column_mapping:
              store_id: id
            remote_table:
              name: store
              schema: public
      select_permissions:
      - permission:
          columns: []
          filter:
            user_id:
              _eq: X-Hasura-User-Id-Internal
        role: user
      table:
        name: vendor_current
        schema: public
    version: 2
  type: replace_metadata
